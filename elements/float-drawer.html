<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="click-elsewhere.html">


<polymer-element name="float-drawer">
    <template>
        <style>
            :host {
                position: absolute;
                top: 0px;
                right: 0px;
                width: 20px;
                height: 100%;
                background-color: white;
                padding: 10px;
                z-index: 3;
                transition: width .5s ease-in-out;
                overflow: hidden;
            }

        </style>

        <div id="clickTarget" style="position: absolute; top: 0;left: 0; height: 100%; width: 100%;">
        </div>

        <click-elsewhere clickelement="{{$.clickTarget}}" on-clickoutside="{{close}}"></click-elsewhere>

        <paper-shadow z="2"></div>

        <paper-button label="{{toggleLabel}}" on-click="{{toggle}}" style="font-weight: bold; font-size: 20px; color: #333333;"></paper-button>

        <div style="padding-left: 20px;">
            <content></content>
        </div>

    </template>
    <script>
        Polymer('float-drawer', {
            isOpen: false,
            openWidth: '200px',
            closedWidth: '20px',
            toggleLabel: '<',
            ready: function () {
                this.update();
            },
            toggle: function () {
                this.isOpen = !this.isOpen;
                this.update();
            },
            open: function () {
                this.isOpen = true;
                this.update();
            },
            close: function () {
                this.isOpen = false;
                this.update();
            },
            update: function () {
                if(this.isOpen) {
                    this.style.width = this.openWidth;
                    this.toggleLabel = '>';
                } else {
                    this.style.width = this.closedWidth;
                    this.toggleLabel = '<';
                }
            }
        });
    </script>
</polymer-element>