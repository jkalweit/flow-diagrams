<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="flow-node.html">

<polymer-element name="flow-diagram" attributes="data">
    <template>
        <style>
            :host {
                background: #ffffff;
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                padding-left: 20px;
            }
        </style>
        <paper-input label="Title" value="{{data.title}}" style="font-size: 30px; font-weight: bold;"></paper-input> <br/>
        <paper-button label="Add Node" icon="add" on-click="{{addNode}}"></paper-button>
        <div style="position: absolute; top: 160px; left: 0px; width: 100%; height: 100%; background-color: #dddddd">
            <template repeat="{{node in data.nodes}}">
                <flow-node node="{{node}}"></flow-node>
            </template>
        </div>
    </template>
    <script>
        Polymer('flow-diagram', {
            addNode: function () {
                this.data.nodes.push({
                    text: 'New Node',
                    bgColor: '#4285f4',
                    top: 0,
                    left: 0,
                    width: 200,
                    height: 50
                });
            }
        });
    </script>
</polymer-element>